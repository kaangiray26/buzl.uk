<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=5"
        />
        <title>Want extra keys? Use your earbuds</title>
        <link rel="canonical" href="https://www.buzl.uk/" />
        <!-- If you're wondering about what buzluk means, it's just my surname and it literally means "freezer" in Turkish, lol. -->
        <meta name="title" content="buzl.uk" />
        <meta
            name="description"
            content="kaangiray26's blog about software development, technology, qualities in life and more"
        />

        <meta property="og:site_name" content="buzl.uk" />
        <meta property="og:title" content="buzl.uk" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.buzl.uk/" />
        <meta
            property="og:description"
            content="kaangiray26's blog about software development, technology, qualities in life and more"
        />
        <meta
            property="og:image"
            content="https://kaangiray26.github.io/images/buzluk.png"
        />

        <meta property="twitter:card" content="summary" />
        <meta property="twitter:url" content="https://www.buzl.uk/" />
        <meta property="twitter:title" content="Buzl.uk" />
        <meta
            property="twitter:description"
            content="kaangiray26's personal website"
        />
        <meta
            property="twitter:image"
            content="https://kaangiray26.github.io/images/buzluk.png"
        />
        <!-- The icon I ripped from the internet. I'm sorry. -->
        <link
            rel="shortcut icon"
            type="image/svg+xml"
            href="/assets/favicon.svg"
        />
        <link rel="stylesheet" href="/assets/restyle.css" />
        <!-- A RSS feed of course! -->
        <link
            rel="alternate"
            type="application/rss+xml"
            href="https://www.buzl.uk/feed.xml"
            title="buzl.uk"
        />
        <!-- These are my social profiles: -->
        <link href="https://github.com/kaangiray26" rel="me" />
        <link href="https://mastodon.social/@kaangiray26" rel="me" />
        <!-- This is for webmentions: -->
        <link
            rel="webmention"
            href="https://webmention.io/www.buzl.uk/webmention"
        />
        <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Want extra keys? Use your earbuds | buzl.uk</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Want extra keys? Use your earbuds" />
<meta name="author" content="kaangiray26" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Have you ever wanted to set random actions to your keyboard keys but realized that you use them all for other purposes, like writing? Well, with this little trick, you can use your earbuds (in an unconventional way) to run custom actions on your computer." />
<meta property="og:description" content="Have you ever wanted to set random actions to your keyboard keys but realized that you use them all for other purposes, like writing? Well, with this little trick, you can use your earbuds (in an unconventional way) to run custom actions on your computer." />
<link rel="canonical" href="https://www.buzl.uk/2024/08/25/earbuds.html" />
<meta property="og:url" content="https://www.buzl.uk/2024/08/25/earbuds.html" />
<meta property="og:site_name" content="buzl.uk" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-08-25T00:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Want extra keys? Use your earbuds" />
<meta name="twitter:site" content="@kaangiray26" />
<meta name="twitter:creator" content="@kaangiray26" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"kaangiray26"},"dateModified":"2024-08-25T00:00:00+02:00","datePublished":"2024-08-25T00:00:00+02:00","description":"Have you ever wanted to set random actions to your keyboard keys but realized that you use them all for other purposes, like writing? Well, with this little trick, you can use your earbuds (in an unconventional way) to run custom actions on your computer.","headline":"Want extra keys? Use your earbuds","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.buzl.uk/2024/08/25/earbuds.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://www.buzl.uk/assets/favicon.svg"},"name":"kaangiray26"},"url":"https://www.buzl.uk/2024/08/25/earbuds.html"}</script>
<!-- End Jekyll SEO tag -->

    </head>

    <body>
        <header>
    <div class="frontmatter">
        <a href="/">
            <img src="/assets/favicon.svg" />
            <h1>buzl.uk</h1>
        </a>
    </div>
    <nav>
        <a href="/">Home</a>
        <a href="/blog/">Blog</a>
        <a href="/gallery">Gallery</a>
        <a href="/contact">Contact</a>
        <a href="/now">Now</a>
        <a href="/links">Links</a>
        <kbd>Alt 1-6</kbd>
    </nav>
    <search>
        <form action="/search.html" method="get">
            <kbd>Ctrl K</kbd>
            <input
                type="search"
                name="q"
                placeholder="Type something to search..."
                autocomplete="off"
            />
            <button type="submit">Search</button>
        </form>
    </search>
</header>
<script type="module">
window.addEventListener("load", () => {
    // Add keyboard shortcuts
    document.onkeydown = (e) => {
        // Ctrl + K to focus on search input
        if (e.ctrlKey && e.key === "k") {
            e.preventDefault();
            document.querySelector("input[type=search]").focus();
            return;
        }

        // Alt + 1 to go to home
        if (e.altKey && e.key === "1") {
            e.preventDefault();
            window.location.href = "/";
            return;
        }

        // Alt + 2 to go to blog
        if (e.altKey && e.key === "2") {
            e.preventDefault();
            window.location.href = "/blog";
            return;
        }

        // Alt + 3 to go to gallery
        if (e.altKey && e.key === "3") {
            e.preventDefault();
            window.location.href = "/gallery";
            return;
        }

        // Alt + 4 to go to contact
        if (e.altKey && e.key === "4") {
            e.preventDefault();
            window.location.href = "/contact";
            return;
        }

        // Alt + 5 to go to now
        if (e.altKey && e.key === "5") {
            e.preventDefault();
            window.location.href = "/now";
            return;
        }

        // Alt + 6 to go to links
        if (e.altKey && e.key === "6") {
            e.preventDefault();
            window.location.href = "/links";
            return;
        }
    };

    // Check current page and add active class to the corresponding link
    const currentPath = window.location.pathname;
    for (const link of document.querySelectorAll("nav a")) {
        if (link.getAttribute("href") === currentPath) {
            link.classList.add("active");
            break;
        }
    }
});
</script>
        <main><script defer src="/assets/scripts/post.js"></script>
<style>
    main img{
        cursor: pointer;
    }

    main img:hover{
        filter: brightness(0.9);
    }

    dialog img{
        width: 100%;
        height: auto;
        filter: none !important;
    }
</style>

<h1 class="post-title">Want extra keys? Use your earbuds</h1>
<p></p>

<!-- Meta -->
<div class="post-author">
    <img src="/assets/spaghetti.webp" />
    <div>
        <p>
            <span>By kaangiray26</span>
        </p>
        <p>
            <time datetime="2024-08-25T00:00:00+02:00">
                Aug 25, 2024
            </time>
        </p>
    </div>
</div>

<!-- Divider -->
<hr />

<!-- Content -->
<p>Have you ever wanted to set random actions to your keyboard keys but realized that you use them all for other purposes, like writing? Well, with this little trick, you can use your earbuds (in an unconventional way) to run custom actions on your computer.</p>

<h2 id="earbuds">Earbuds</h2>
<p>I have a pair of Sony earbuds that have touch controls on both sides. On my phone, I can use them to control the media playback, and some other actions that I completely forgot about. However, those actions are not customizable, at least not on my computer. So by default, we have 3 gestures: single tap, double tap, and triple tap. These gestures are assigned to the media playback controls as play/pause, next, and previous respectively. But that’s not what we want. You’re with me, right? Let’s get started.</p>

<h2 id="media-session-api">Media Session API</h2>
<p>I tried to listen for Bluetooth events on my computer but it was way too complicated. Then I remembered about the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Media_Session_API">Media Session API</a>, which is a web API to control the media playback on your computer. You can set some metadata (which shows up on your control center) and even listeners for various events like play, pause, next, and previous. You see where I’m going with this. We’ll just put together a simple web page with a dummy audio element and listen for the events and send them over to our Python script to run functions as background tasks.</p>

<p>I hope you’re not bored with <a href="https://quart.palletsprojects.com/en/latest/">Quart</a> yet because that’s what you’re getting from me again.</p>

<p><img src="/assets/images/earbuds-1.png" alt="Earbuds" /></p>

<h2 id="the-prototype">The Prototype</h2>
<p>There is a hidden audio element below the button, which gets played when you click the button. By clicking on the gestures, you can select one of the custom actions to assign it to that gesture.</p>

<p><img src="/assets/images/earbuds-2.png" alt="Earbuds" /></p>

<p>And when you toggle the switch, the page starts listening for the events without messing up with other media playing on your computer. Now’s the time to ask, what can you do with this? Well, I asked the same question to mysql (little typo there, but I’m keeping it because it’s funny) and came up with these terrible ideas:</p>
<ul>
  <li>Take a screenshot with a single tap</li>
  <li>Use the next and previous gestures to switch between workspaces</li>
  <li>Open up spotify with a triple tap</li>
  <li>Open up a terminal with a single tap (this one sounds cool actually)</li>
  <li>Perform keyboard combinations with xdotool</li>
</ul>

<p>Some of these are already implemented in the code, but I’m sure you can come up with better ideas. You can find the code <a href="https://github.com/kaangiray26/earbuds">here</a>. I hope this little thing keeps you entertained for a while. It kept me entertained while I was trying to open up terminals after terminals with my earbuds. Have fun!</p>


<!-- Postscript -->

<div>
    <strong>P.S.</strong>
    <p>so you're telling me that I can get 3 extra keys if I give away 3 of my keys? Sounds right to me.</p>
</div>


<!-- Image dialog -->
<dialog id="image-dialog" onclick="this.close()">
    <img src="" alt="" />
</dialog>
<webmentions>
    <h3>Webmentions</h3>
</webmentions>
<script src="/assets/scripts/webmentions.js"></script>
</main>
        <footer>
    <a href="feed.xml">RSS</a>
    <p>
        Licensed under the
        <a
            target="_blank"
            href="https://creativecommons.org/licenses/by-nc-sa/4.0/"
            >CC BY-NC-SA 4.0 License</a
        >.
    </p>
    <p>Copyright © <time id="date"></time> Kaan Giray Buzluk</p>
    <img src="/assets/lf1B0.gif" class="mate" />
</footer>

<script type="module">
    window.addEventListener("load", async () => {
        const date = new Date().getFullYear();
        document.getElementById("date").textContent = date;
    });
</script>

    </body>
</html>
